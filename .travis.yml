language: python

matrix:
  include:
    - python: 3.6
      env: TOXENV=py36
    - python: 3.5
      env: TOXENV=py35
    - python: 3.4
      env: TOXENV=py34
    - python: 2.7
      env: TOXENV=py27
    - python: 3.6
      env: TOXENV=flake8
    - python: 3.6
      env: TOXENV=isort

install: pip install -U tox

script: tox -e ${TOXENV}

deploy:
  provider: pypi
  distributions: sdist bdist_wheel
  user: jarshwah
  password:
    secure: !!binary |
      UkZQcGMxUnZNMUc3M0VSOUtmWkdyZnBXa3JpRkNQbndEWHFlbSsxamxVUDcxNUUrbENJQytZZzc0
      Vy9DREZBRWs4MVhyT3haamE3NkYzZFhsRVBnZ1F5ZWt5MmpYUHR6SU5VL01VbUlwVTVvcEJabTRx
      azVsMDFBT1ZpUUpBeHcrcWc2WXNYTVg4dzF1NnJ6dTVTek45VG9kaXErV0QxOENKeldPZnRUMHR0
      Zm1WRWhXYlB2OFpxV1J3aU94MkpVZVBSaUVBa2tQMnk4OGFSMFU4TEs4MXh0aFJldXdidm5ubjFO
      UGRpWFR2NitIZ2JxN1ZQdU5qdGxhQmVncTQ2VVRycnpsMXJCNmlNaXRNWlcvMkh1Z2VBM3crZW43
      Qjg3VHVVcDdDV3V3WEdXWTA1M0JCbW9OTlNCYjQybkg4Y1hBeGh4MFhkVXdLek82OHNxT1dpM0J5
      bnpMZys4L2JFNG9uYnJLTEc2MGFpdSs3a3pOa0JDR0hxMEhseWV0djVYRmY0dld2YXBTOHlaWWRo
      UitKV2FvSWsvVmwzb1A3Q2UydWRia21XaDNkWHRnZXE2Y0ZzNFdTdFN0RWVrVDJEVU5GZkpycDNq
      K2NueURTWHJncmlEejVZOHgwK0ZsZFhCOHpBNVl4N3crOWhDaDd6MzZFenp1bUg4RHlsOWlXZnNL
      VFZPV2YrTkNqOXJwbzFBS3hRSlBBMHdyeUowMWF5emxIc1JPNEZRVjRBeUZjMXVvOVNIM2xIbEtl
      RWFKWkpxTmxWRGp0OGllNkhRUVRWbThzRytkV2NSVUs4K3VuOTJKNE9MaWs0bW5YdUJMRUxkaHNH
      NnJqUFRqR2tjU3lNTWN5UGZwakRkNmdnUy9JZ2M4Uzl2cHVGR25pazRHUkNlWWlNY3JGeUEwZG89
  on:
    condition: $TOXENV = py36
    repo: jarshwah/flake8_formatter_abspath
    tags: true

